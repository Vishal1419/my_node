{"message":"ENOENT: no such file or directory, open '/home/kspx/Desktop/MyData/Projects/Node/vcc-api/analytics/wine_selection_notification/07_04_2017.csv'","stack":"Error: ENOENT: no such file or directory, open '/home/kspx/Desktop/MyData/Projects/Node/vcc-api/analytics/wine_selection_notification/07_04_2017.csv'\n    at Error (native)\n    at Object.fs.openSync (fs.js:641:18)\n    at CsvAnalytics.writeToFile (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/common/csv_analytics.js:87:21)\n    at /home/kspx/Desktop/MyData/Projects/Node/vcc-api/v2/controllers/notification_controller.js:580:79\n    at /home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/async/dist/async.js:3861:9\n    at /home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/async/dist/async.js:421:16\n    at iteratorCallback (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/async/dist/async.js:998:13)\n    at /home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/async/dist/async.js:906:16\n    at /home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/async/dist/async.js:3858:13\n    at /home/kspx/Desktop/MyData/Projects/Node/vcc-api/v2/controllers/notification_controller.js:573:61\n    at tryCatcher (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/bluebird/js/release/promise.js:512:31)\n    at Promise._settlePromise (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/bluebird/js/release/promise.js:569:18)\n    at Promise._settlePromise0 (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/bluebird/js/release/promise.js:614:10)\n    at Promise._settlePromises (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/bluebird/js/release/promise.js:693:18)\n    at Async._drainQueue (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/bluebird/js/release/async.js:133:16)","errno":-2,"code":"ENOENT","syscall":"open","path":"/home/kspx/Desktop/MyData/Projects/Node/vcc-api/analytics/wine_selection_notification/07_04_2017.csv","level":"error","timestamp":"2017-07-04T06:45:03.967Z"}
{"message":"Validation error","name":"SequelizeUniqueConstraintError","stack":"SequelizeUniqueConstraintError: Validation error\n    at Query.formatError (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/sequelize/lib/dialects/mysql/query.js:149:14)\n    at Query._callback (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/sequelize/lib/dialects/mysql/query.js:49:21)\n    at Query.Sequence.end (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/mysql/lib/protocol/sequences/Sequence.js:86:24)\n    at Query.ErrorPacket (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/mysql/lib/protocol/sequences/Query.js:88:8)\n    at Protocol._parsePacket (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/mysql/lib/protocol/Protocol.js:280:23)\n    at Parser.write (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/mysql/lib/protocol/Parser.js:75:12)\n    at Protocol.write (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/mysql/lib/protocol/Protocol.js:39:16)\n    at Socket.<anonymous> (/home/kspx/Desktop/MyData/Projects/Node/vcc-api/node_modules/mysql/lib/Connection.js:103:28)\n    at emitOne (events.js:96:13)\n    at Socket.emit (events.js:188:7)\n    at readableAddChunk (_stream_readable.js:176:18)\n    at Socket.Readable.push (_stream_readable.js:134:10)\n    at TCP.onread (net.js:547:20)","errors":[{"message":"PRIMARY must be unique","type":"unique violation","path":"PRIMARY","value":"4"}],"fields":{"PRIMARY":"4"},"parent":{"code":"ER_DUP_ENTRY","errno":1062,"sqlState":"23000","index":0,"sql":"INSERT INTO `customer_notification_list` (`notification_id`,`subject`,`message`,`is_read`,`customer_id`,`created_date`,`updated_date`) VALUES (4,'Update your VinPrint','{\\\"wine_id\\\":168336,\\\"restaurant_id\\\":410012,\\\"wine_name\\\":\\\"E. Guigal Cote Rotie La Landonne\\\",\\\"restaurant_name\\\":\\\"Zazil Restaurant\\\",\\\"vintage\\\":1981,\\\"customer_email\\\":\\\"ravi.n.modha@gmail.com\\\",\\\"notification_type\\\":\\\"SELECT_WINE\\\",\\\"image_path\\\":\\\"/photos/products/original/97/8/978417fa1c369baee9c6270728bab7aa.jpg\\\"}',0,500,'2017-07-04 07:00:02','2017-07-04 07:00:02'),(5,'Update your VinPrint','{\\\"wine_id\\\":19249,\\\"restaurant_id\\\":410012,\\\"wine_name\\\":\\\"Beaulieu Vineyard Cabernet Sauvignon Georges de Latour Private Reserve Napa Valley\\\",\\\"restaurant_name\\\":\\\"Zazil Restaurant\\\",\\\"vintage\\\":1974,\\\"customer_email\\\":\\\"ravi.n.modha@gmail.com\\\",\\\"notification_type\\\":\\\"SELECT_WINE\\\",\\\"image_path\\\":\\\"/photos/products/original/default-red.jpg\\\"}',0,500,'2017-07-04 07:00:04','2017-07-04 07:00:04');"},"original":{"code":"ER_DUP_ENTRY","errno":1062,"sqlState":"23000","index":0,"sql":"INSERT INTO `customer_notification_list` (`notification_id`,`subject`,`message`,`is_read`,`customer_id`,`created_date`,`updated_date`) VALUES (4,'Update your VinPrint','{\\\"wine_id\\\":168336,\\\"restaurant_id\\\":410012,\\\"wine_name\\\":\\\"E. Guigal Cote Rotie La Landonne\\\",\\\"restaurant_name\\\":\\\"Zazil Restaurant\\\",\\\"vintage\\\":1981,\\\"customer_email\\\":\\\"ravi.n.modha@gmail.com\\\",\\\"notification_type\\\":\\\"SELECT_WINE\\\",\\\"image_path\\\":\\\"/photos/products/original/97/8/978417fa1c369baee9c6270728bab7aa.jpg\\\"}',0,500,'2017-07-04 07:00:02','2017-07-04 07:00:02'),(5,'Update your VinPrint','{\\\"wine_id\\\":19249,\\\"restaurant_id\\\":410012,\\\"wine_name\\\":\\\"Beaulieu Vineyard Cabernet Sauvignon Georges de Latour Private Reserve Napa Valley\\\",\\\"restaurant_name\\\":\\\"Zazil Restaurant\\\",\\\"vintage\\\":1974,\\\"customer_email\\\":\\\"ravi.n.modha@gmail.com\\\",\\\"notification_type\\\":\\\"SELECT_WINE\\\",\\\"image_path\\\":\\\"/photos/products/original/default-red.jpg\\\"}',0,500,'2017-07-04 07:00:04','2017-07-04 07:00:04');"},"sql":"INSERT INTO `customer_notification_list` (`notification_id`,`subject`,`message`,`is_read`,`customer_id`,`created_date`,`updated_date`) VALUES (4,'Update your VinPrint','{\\\"wine_id\\\":168336,\\\"restaurant_id\\\":410012,\\\"wine_name\\\":\\\"E. Guigal Cote Rotie La Landonne\\\",\\\"restaurant_name\\\":\\\"Zazil Restaurant\\\",\\\"vintage\\\":1981,\\\"customer_email\\\":\\\"ravi.n.modha@gmail.com\\\",\\\"notification_type\\\":\\\"SELECT_WINE\\\",\\\"image_path\\\":\\\"/photos/products/original/97/8/978417fa1c369baee9c6270728bab7aa.jpg\\\"}',0,500,'2017-07-04 07:00:02','2017-07-04 07:00:02'),(5,'Update your VinPrint','{\\\"wine_id\\\":19249,\\\"restaurant_id\\\":410012,\\\"wine_name\\\":\\\"Beaulieu Vineyard Cabernet Sauvignon Georges de Latour Private Reserve Napa Valley\\\",\\\"restaurant_name\\\":\\\"Zazil Restaurant\\\",\\\"vintage\\\":1974,\\\"customer_email\\\":\\\"ravi.n.modha@gmail.com\\\",\\\"notification_type\\\":\\\"SELECT_WINE\\\",\\\"image_path\\\":\\\"/photos/products/original/default-red.jpg\\\"}',0,500,'2017-07-04 07:00:04','2017-07-04 07:00:04');","level":"error","timestamp":"2017-07-04T07:00:04.498Z"}
